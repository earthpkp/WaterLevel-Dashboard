# üîß ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á Observe | Forecast

## üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà: 13 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2568 (2025-11-13)

---

## üêõ ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ú‡∏¥‡∏î
- **‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á "Observe | Forecast" ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 12 ‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢ (GMT+7) ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 2: ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥‡∏ã‡πâ‡∏≠‡∏ô
- **‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** ‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á Observe ‡πÅ‡∏•‡∏∞ Forecast
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Logic ‡πÅ‡∏¢‡∏Å Observe/Forecast ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏ä‡πâ `data_type` ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà 3: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 14 ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ Observe ‡∏î‡πâ‡∏ß‡∏¢
- **‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:** ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 14 (‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï) ‡πÅ‡∏™‡∏î‡∏á‡∏Ñ‡πà‡∏≤ Observe ‡∏ã‡∏∂‡πà‡∏á‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏°‡∏µ
- **‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏™‡πâ‡∏ô‡πÇ‡∏î‡∏¢‡πÄ‡∏≠‡∏≤‡∏Ñ‡πà‡∏≤ Observe ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13 ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 14

---

## ‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà 1: ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢

**‡πÑ‡∏ü‡∏•‡πå:** `frontend/src/components/WaterLevelChart.js`

**Before:**
```javascript
const thailandTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Bangkok' }));
thailandTime.setHours(0, 0, 0, 0);
const currentDate = thailandTime.toISOString().split('T')[0];
```

**After:**
```javascript
const thailandDateStr = new Intl.DateTimeFormat('en-CA', {
  timeZone: 'Asia/Bangkok',
  year: 'numeric',
  month: '2-digit',
  day: '2-digit'
}).format(now);

const currentDate = thailandDateStr; // Already in YYYY-MM-DD format
```

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- `new Date(localeString)` ‡∏≠‡∏≤‡∏à‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÑ‡∏°‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÉ‡∏ô‡∏ö‡∏≤‡∏á browser
- `Intl.DateTimeFormat` ‡πÄ‡∏õ‡πá‡∏ô standard API ‡∏ó‡∏µ‡πà‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Å‡∏ß‡πà‡∏≤
- ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö 'en-CA' ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡πÄ‡∏õ‡πá‡∏ô YYYY-MM-DD ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á

---

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ data_type ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

#### Backend (server.js)

**Before:**
```sql
SELECT 
  DATE_FORMAT(date_time, ?) as period,
  AVG(x_274) as x_274_avg,
  ...
FROM waterlevel_data
WHERE date_time BETWEEN ? AND ?
GROUP BY period
ORDER BY period ASC
```

**After:**
```sql
SELECT 
  DATE_FORMAT(date_time, ?) as period,
  data_type,  -- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ
  AVG(x_274) as x_274_avg,
  ...
FROM waterlevel_data
WHERE date_time BETWEEN ? AND ?
GROUP BY period, data_type  -- ‡πÄ‡∏û‡∏¥‡πà‡∏° data_type
ORDER BY period ASC, data_type ASC  -- ‡πÄ‡∏û‡∏¥‡πà‡∏° data_type
```

#### Frontend (WaterLevelChart.js)

**Before:**
```javascript
// ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
const isPastOrToday = period <= currentDate;

if (isPastOrToday) {
  // Observe
  groupedData[period]['X.274_obs'] = ...;
} else {
  // Forecast
  groupedData[period]['X.274_fc'] = ...;
}
```

**After:**
```javascript
// ‡πÉ‡∏ä‡πâ data_type ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
const isObserve = item.data_type === 'observe' || 
                  (item.data_type === 'forecast' ? false : period <= currentDate);

if (isObserve) {
  // Observe
  groupedData[period]['X.274_obs'] = ...;
} else {
  // Forecast
  groupedData[period]['X.274_fc'] = ...;
}
```

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ `data_type` ENUM('observe', 'forecast') ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
- ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏≤
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á observe ‡πÅ‡∏•‡∏∞ forecast

---

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà 3: ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤

**Before:**
```javascript
// Add connection point: add last observe values to the NEXT period
if (lastObserveData && lastObservePeriod) {
  const lastDate = new Date(lastObservePeriod);
  lastDate.setDate(lastDate.getDate() + 1);
  const nextPeriod = lastDate.toISOString().split('T')[0];
  
  if (groupedData[nextPeriod]) {
    groupedData[nextPeriod]['X.274_obs'] = lastObserveData['X.274'];
    groupedData[nextPeriod]['X.119A_obs'] = lastObserveData['X.119A'];
    groupedData[nextPeriod]['X.119_obs'] = lastObserveData['X.119'];
  }
}
```

**After:**
```javascript
// Note: Recharts will automatically connect Observe and Forecast lines
// with connectNulls={true}, so we don't need to manually add connection points
```

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- Recharts ‡∏°‡∏µ property `connectNulls={true}` ‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ó‡∏≥‡πÉ‡∏´‡πâ tooltip ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ `data_type` ‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ô‡∏µ‡πâ

---

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏µ‡πà 4: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï Label ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢

**Before:**
```javascript
<ReferenceLine
  x={lastObservePeriodState}
  stroke="#ff6b6b"
  label={{
    value: 'Observe | Forecast',
    ...
  }}
/>
```

**After:**
```javascript
{lastObservePeriodState && (() => {
  const now = new Date();
  const thailandTime = new Date(now.toLocaleString('en-US', { timeZone: 'Asia/Bangkok' }));
  const thaiDateStr = thailandTime.toLocaleDateString('th-TH', {
    year: 'numeric',
    month: 'short',
    day: 'numeric'
  });
  const thaiTimeStr = thailandTime.toLocaleTimeString('th-TH', {
    hour: '2-digit',
    minute: '2-digit'
  });
  
  return (
    <ReferenceLine
      x={lastObservePeriodState}
      stroke="#ff6b6b"
      label={{
        value: `Observe | Forecast (${thaiDateStr} ${thaiTimeStr})`,
        ...
      }}
    />
  );
})()}
```

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢
- ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á

---

## üìä ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå

### ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
```
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 12 (‡∏≠‡∏î‡∏µ‡∏ï):   Observe + Forecast ‚ùå
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13 (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô): Observe + Forecast ‚ùå
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 14 (‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï):   Observe + Forecast ‚ùå
‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á: ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 12 ‚ùå
```

### ‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
```
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 12 (‡∏≠‡∏î‡∏µ‡∏ï):   Observe ‚úÖ + Forecast ‚úÖ
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13 (‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô): Observe ‚úÖ + Forecast ‚úÖ
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 14 (‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï):   Forecast only ‚úÖ
‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 15+ (‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï):  Forecast only ‚úÖ
‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á: ‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13 ‚úÖ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢ ‚úÖ
```

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Backend API
```powershell
$response = Invoke-RestMethod -Uri "http://localhost:5000/api/waterlevel/chart?start_date=2025-11-12&end_date=2025-11-15&aggregation=day"
$response.data | Select-Object period, data_type, x_119_avg | Format-Table
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏´‡∏ß‡∏±‡∏á:**
```
period     data_type x_119_avg
------     --------- ---------
2025-11-12 observe   2.800000
2025-11-12 forecast  3.150000
2025-11-13 observe   2.820000
2025-11-13 forecast  3.200000
2025-11-14 forecast  3.250000
2025-11-15 forecast  3.300000
```

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Frontend

1. ‡πÄ‡∏õ‡∏¥‡∏î http://localhost:3000
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Browser Console (F12):
   ```
   üìÖ Current Thailand Date: 2025-11-13
   üéØ Last Observe Period: 2025-11-13
   ```
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏£‡∏≤‡∏ü:
   - ‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ö‡πà‡∏á‡∏™‡∏µ‡πÅ‡∏î‡∏á‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13
   - Label ‡πÅ‡∏™‡∏î‡∏á "Observe | Forecast (13 ‡∏û.‡∏¢. 2568 14:58)"
   - Hover ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 13: ‡πÅ‡∏™‡∏î‡∏á‡∏ó‡∏±‡πâ‡∏á Observe ‡πÅ‡∏•‡∏∞ Forecast
   - Hover ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 14: ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Forecast

---

## üìù ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

1. **backend/server.js** (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 199-215)
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `data_type` ‡πÉ‡∏ô SELECT statement
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° `data_type` ‡πÉ‡∏ô GROUP BY ‡πÅ‡∏•‡∏∞ ORDER BY

2. **frontend/src/components/WaterLevelChart.js**
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 43-56: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 64-90: ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÉ‡∏ä‡πâ `data_type`
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 94-99: ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÅ‡∏ö‡∏ö‡πÄ‡∏Å‡πà‡∏≤
   - ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 260-283: ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï label ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢

---

## üîÆ ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

### Best Practices

1. **‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å**
   - ‡∏≠‡∏¢‡πà‡∏≤‡πÄ‡∏î‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏≠‡∏á ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß
   - `data_type` ‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô source of truth

2. **‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Timezone**
   - ‡πÉ‡∏ä‡πâ `Intl.DateTimeFormat` ‡πÅ‡∏ó‡∏ô `toLocaleString()`
   - ‡∏£‡∏∞‡∏ö‡∏∏ timezone ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ('Asia/Bangkok')
   - ‡πÄ‡∏Å‡πá‡∏ö‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ISO 8601 (YYYY-MM-DD)

3. **‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡∏£‡∏≤‡∏ü**
   - ‡πÉ‡∏ä‡πâ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ç‡∏≠‡∏á library (Recharts) ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡πÄ‡∏≠‡∏á
   - `connectNulls={true}` ‡∏à‡∏∞‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

4. **‡∏Å‡∏≤‡∏£ Debug**
   - ‡πÄ‡∏û‡∏¥‡πà‡∏° console.log ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡πà‡∏≤
   - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å API ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
   - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

- [Recharts Documentation - connectNulls](https://recharts.org/en-US/api/Line)
- [MDN - Intl.DateTimeFormat](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat)
- [MySQL - DATE_FORMAT](https://dev.mysql.com/doc/refman/8.0/en/date-and-time-functions.html#function_date-format)

---

## ‚úçÔ∏è ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å

**‡∏ú‡∏π‡πâ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:** GitHub Copilot  
**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:** 13 ‡∏û‡∏§‡∏®‡∏à‡∏¥‡∏Å‡∏≤‡∏¢‡∏ô 2568  
**‡πÄ‡∏ß‡∏•‡∏≤:** 14:58 ‡∏ô. (‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏ó‡∏¢)  
**‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞:** ‚úÖ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÅ‡∏•‡πâ‡∏ß
